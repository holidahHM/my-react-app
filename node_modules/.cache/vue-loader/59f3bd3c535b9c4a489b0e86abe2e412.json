{"remainingRequest":"/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mulama/Desktop/Management/mgt2/src/views/Sites/private_COMP_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mulama/Desktop/Management/mgt2/src/views/Sites/private_COMP_details.vue","mtime":1628485261049},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwQ2xpZW50IGZyb20gIi4uLy4uL2FwaS9odHRwQ2xpZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVja2luZzogZmFsc2UsCiAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICBwYXlsb2FkOiBbXSwKICAgICAgcGF5bG9hZF9EYXRhOiB7CiAgICAgICAgb3B0aW9uOiBbXSwKICAgICAgICBjYXJEYXRhOiBbXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5wYXlsb2FkX0RhdGEuY2FyRGF0YSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJkZXQuY29tcHJlaGVuc2l2ZTsKICAgIHRoaXMucGF5bG9hZF9EYXRhLm9wdGlvbiA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJkZXQuc2VsZWN0ZWQ7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBidXlub3coKSB7CiAgICAgIHZhciBzdHJpbmdqc29uID0gSlNPTi5zdHJpbmdpZnkodGhpcy5wYXlsb2FkX0RhdGEpOwogICAgICAvLyBjb25zb2xlLmxvZygianNvbiBlYXN5IGNvdmVyIG9iamVjdCIsIEpTT04ucGFyc2Uoc3RyaW5nanNvbikpOwoKICAgICAgY29uc29sZS5sb2coInBheWxvYWQgZGF0YSIsIHN0cmluZ2pzb24pOwogICAgICBsZXQgcmVzcG9uc2UgPSAiIjsKICAgICAgdGhpcy5jaGVja2luZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBodHRwQ2xpZW50LnBvc3QoIi91c2VycyIsIHN0cmluZ2pzb24pOwogICAgICAgIGNvbnNvbGUubG9nKCJlYXN5IGNvdmVyIiwgcmVzcG9uc2UpOwogICAgICAgIGNvbnNvbGUubG9nKCJwYXlsb2FkIGRhdGEiLCB0aGlzLnBheWxvYWRfRGF0YSk7CiAgICAgICAgdGhpcy5jaGVja2luZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5jaGVja2luZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc3VjY2VzcyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKCJFYXN5IGNvdmVyIGVycm9yIiwgZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2hlY2tpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdWNjZXNzID0gZmFsc2U7CiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIHRoaXMuc3VjY2VzcyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["private_COMP_details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"private_COMP_details.vue","sourceRoot":"src/views/Sites","sourcesContent":["<template>\n  <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\n    <card>\n      <div align-v=\"center\" slot=\"header\">\n        <b-col cols=\"12\" class=\"d-flex justify-content-center mb-3\">\n          <img src=\"img/brand/Blue-Octagon_Logo.png\" style=\"width: 200px; height: 70px\" />\n        </b-col>\n      </div>\n      <br />\n      <h1 class=\"d-flex justify-content-center mb-3\">\n        {{ payload_Data.option.amount }} KSH Duration: 1 Month Motor Private Comprehensive\n        by {{ payload_Data.option.name }}\n      </h1>\n      <br />\n      <div class=\"row\">\n        <div class=\"col-sm-6\">\n          <div class=\"panel panel-info\">\n            <div class=\"panel-heading text-center\">\n              <h3 class=\"panel-title\">Included Benefits</h3>\n            </div>\n            <div class=\"panel-body\">\n              <p>\n                <i class=\"fa fa-check\" style=\"color: green\"></i> &nbsp;&nbsp;&nbsp; Third\n                Party Persons - Unlimited(Per Person)\n              </p>\n              <p>\n                <i class=\"fa fa-check\" style=\"color: green\"></i> &nbsp;&nbsp;&nbsp; Third\n                Party Property Liability - 20,000,000 KSH (Per Event)\n              </p>\n              <p>\n                <i class=\"fa fa-check\" style=\"color: green\"></i> &nbsp;&nbsp;&nbsp;\n                Passengers Liability - 20,000,000 KSH - Per Event<br />\n                5,000,000 KSH - Per Person\n              </p>\n            </div>\n            <!-- panel-body -->\n          </div>\n          <!-- panel -->\n        </div>\n\n        <div class=\"col-sm-6\">\n          <div class=\"panel panel-info-alt\">\n            <div class=\"panel-heading text-center\">\n              <h3 class=\"panel-title\">Excess & Coverage</h3>\n            </div>\n            <div class=\"panel-body\">\n              <p>\n                <i class=\"fa fa-check\" style=\"color: green\"></i> &nbsp;&nbsp;&nbsp; Third\n                Party Property Damage - Deductible: 5,000 KSH (Per Event)\n              </p>\n              <p>\n                <i class=\"fa fa-check\" style=\"color: green\"></i> &nbsp;&nbsp;&nbsp;\n                Protection against political risks, unrest, and terrorism attacks - Limit:\n                2.5% - Of sum insured\n              </p>\n            </div>\n            <!-- panel-body -->\n          </div>\n          <!-- panel -->\n        </div>\n      </div>\n\n      <div class=\"panel-footer text-center\">\n        <button\n          type=\"button\"\n          class=\"btn btn-warning\"\n          style=\"width: 30%\"\n          v-on:click=\"buynow\"\n        >\n          Buy Now!</button\n        ><br /><br />\n        <button type=\"button\" class=\"btn btn-success\" style=\"width: 30%\">\n          <router-link\n            :to=\"{\n              name: 'register',\n              params: {\n                details: {\n                  p_name: p_name,\n                  p_email: p_email,\n                },\n              },\n            }\"\n            >Save for Later</router-link\n          >\n        </button>\n      </div>\n      <br />\n      <b-row>\n        <b-col lg=\"12\">\n          <div v-loading=\"true\" id=\"loading\" v-if=\"checking\">\n            <p>Submitting request, please wait...</p>\n          </div>\n        </b-col>\n      </b-row>\n      <b-row>\n        <div class=\"justify-content-lg-center\">\n          <span class=\"badge badge-pill badge-success\" v-if=\"success\">\n            Request submitted successfully! <br />kindly be patiant as we process your\n            policy certificate.<br />\n            In the mean time, kindly check your email for your login credentials generated\n            by our system.\n          </span>\n        </div>\n      </b-row>\n      <br />\n    </card>\n  </base-header>\n</template>\n<script>\nimport httpClient from \"../../api/httpClient\";\nexport default {\n  data() {\n    return {\n      checking: false,\n      success: false,\n      payload: [],\n      payload_Data: {\n        option: [],\n        carData: [],\n      },\n    };\n  },\n  created() {\n    this.payload_Data.carData = this.$route.params.cardet.comprehensive;\n    this.payload_Data.option = this.$route.params.cardet.selected;\n  },\n  methods: {\n    async buynow() {\n      var stringjson = JSON.stringify(this.payload_Data);\n      // console.log(\"json easy cover object\", JSON.parse(stringjson));\n\n      console.log(\"payload data\", stringjson);\n      let response = \"\";\n      this.checking = true;\n      try {\n        response = await httpClient.post(\"/users\", stringjson);\n        console.log(\"easy cover\", response);\n        console.log(\"payload data\", this.payload_Data);\n        this.checking = false;\n      } catch (e) {\n        this.checking = false;\n        this.success = false;\n        console.log(\"Easy cover error\", e);\n      }\n\n      this.checking = false;\n      this.success = false;\n      if (response.status === 200) {\n        this.success = true;\n      }\n    },\n  },\n};\n</script>\n"]}]}