{"remainingRequest":"/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mulama/Desktop/Management/mgt2/src/views/Sites/Servicing/Schemes/Schemes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mulama/Desktop/Management/mgt2/src/views/Sites/Servicing/Schemes/Schemes.vue","mtime":1628485261041},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbEluc3VyYW5jZVBvbGljaWVzIH0gZnJvbSAiLi4vLi4vLi4vLi4vYXBpL3VzZXJzLmFwaSI7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbi52dWUiOwppbXBvcnQgaW5zdXJhbmNlRXJyb3JzIGZyb20gIi4uLy4uLy4uLy4uL3NlcnZpY2UvaW5zdXJhbmNlRXJyb3JzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgUGFnaW5hdGlvbiB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvczogW10sCiAgICAgIGN1cnJlbnRUdXRvcmlhbDogbnVsbCwKICAgICAgY3VycmVudEluZGV4OiAtMSwKICAgICAgc2VhcmNoVGl0bGU6ICIiLAogICAgICBwYWdlOiAxLAogICAgICBjdXJyZW50UGFnZTogMCwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHNlbGVjdGVkTWVtYmVyczogW10sCiAgICAgIGxpbWl0OiBbNTAsIDEwMCwgMjAwXSwKICAgICAgc2VsZWN0ZWRMaW1pdDogIiIsCiAgICAgIGNoZWNraW5nOiBmYWxzZSwKCiAgICAgIHBhZ2VTaXplczogWzUsIDEwLCAyNV0sCgogICAgICAvL290aGVyIGRhdGEgdHlwZXMKICAgICAgc2VsZWN0QWxsOiBbXSwKICAgICAgc2VsZWN0ZWQ6IFtdLAogICAgICBzZWxlY3RlZERhdGE6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJldHJpZXZlVHV0b3JpYWxzKCkgewogICAgICB0aGlzLmNoZWNraW5nID0gdHJ1ZTsKICAgICAgbGV0IHBhcmFtcyA9IGluc3VyYW5jZUVycm9ycy5nZXRSZXF1ZXN0UGFyYW1zKHRoaXMuc2VhcmNoVGl0bGUsIHRoaXMuc2VsZWN0ZWRMaW1pdCk7CgogICAgICBnZXRBbGxJbnN1cmFuY2VQb2xpY2llcyhwYXJhbXMpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAvL2NvbnN0IHsgdHV0b3JpYWxzLCB0b3RhbEl0ZW1zIH0gPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnRvZG9zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgLy90aGlzLmNvdW50ID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICAgIC8vdGhpcy5jb3VudCA9IDc7CiAgICAgICAgICB0aGlzLnVwZGF0ZXZpc2libGVNZW1iZXJzKCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIHRoaXMuY2hlY2tpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5jaGVja2luZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIHVwZGF0ZVBhZ2UocGFnZU51bWJlcikgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZU51bWJlcjsKICAgICAgdGhpcy51cGRhdGV2aXNpYmxlTWVtYmVycygpOwogICAgfSwKICAgIHRvdGFsUGFnZXMoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50b2Rvcy5sZW5ndGggLyB0aGlzLnBhZ2VTaXplKTsKICAgIH0sCiAgICB1cGRhdGV2aXNpYmxlTWVtYmVycygpIHsKICAgICAgdGhpcy5zZWxlY3RlZE1lbWJlcnMgPSB0aGlzLnRvZG9zLnNsaWNlKAogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2VTaXplLAogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2VTaXplICsgdGhpcy5wYWdlU2l6ZQogICAgICApOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRNZW1iZXJzLmxlbmd0aCA9PSAwICYmIHRoaXMuY3VycmVudFBhZ2UgPiAwKSB7CiAgICAgICAgdGhpcy51cGRhdGVQYWdlKGN1cnJlbnRQYWdlIC0gMSk7CiAgICAgIH0KICAgIH0sCiAgICBjaG9vc2VuUm93cygpIHsKICAgICAgdGhpcy5jaGVja2luZyA9IHRydWU7CiAgICAgIGxldCBwYXJhbXMgPSBpbnN1cmFuY2VFcnJvcnMuZ2V0UmVxdWVzdFBhcmFtcyh0aGlzLnNlYXJjaFRpdGxlLCB0aGlzLnNlbGVjdGVkTGltaXQpOwoKICAgICAgZ2V0QWxsSW5zdXJhbmNlUG9saWNpZXMocGFyYW1zKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgLy9jb25zdCB7IHR1dG9yaWFscywgdG90YWxJdGVtcyB9ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy50b2RvcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIC8vdGhpcy5jb3VudCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgICAvL3RoaXMuY291bnQgPSA3OwogICAgICAgICAgdGhpcy51cGRhdGV2aXNpYmxlTWVtYmVycygpOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB0aGlzLmNoZWNraW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuY2hlY2tpbmcgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBzZWxlY3QoKSB7CiAgICAgIGZvciAobGV0IGkgaW4gdGhpcy50b2RvcykgewogICAgICAgIHRoaXMuc2VsZWN0ZWQucHVzaCh0aGlzLnRvZG9zW2ldLlByb3Bvc2FsTm8pOwogICAgICB9CiAgICB9LAogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaW5zdXJhbmNlSXRlbXMiKSAhPT0gbnVsbCkgewogICAgICB0aGlzLnRvZG9zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaW5zdXJhbmNlSXRlbXMiKSk7CiAgICAgIHRoaXMudXBkYXRldmlzaWJsZU1lbWJlcnMoKTsKICAgIH0KICAgIHRyeSB7CiAgICAgIHRoaXMuY2hlY2tpbmcgPSB0cnVlOwogICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBnZXRBbGxJbnN1cmFuY2VQb2xpY2llcygpOwogICAgICBjb25zb2xlLmluZm8oImlucyBzY2hlbWVzIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpbnN1cmFuY2VJdGVtcyIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZGF0YSkpOwogICAgICB0aGlzLnRvZG9zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAvL3RoaXMuY291bnQgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAvL3RoaXMuY291bnQgPSA3OwogICAgICB0aGlzLnVwZGF0ZXZpc2libGVNZW1iZXJzKCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuY2hlY2tpbmcgPSBmYWxzZTsKICAgICAgY29uc29sZS5lcnJvcigiaW5zIGVycm9yIiwgZSk7CiAgICAgIHRoaXMuJHRvYXN0LmVycm9yKCJGYWlsZWQhIFJlZnJlc2ggdGhlIHBhZ2UiLCB7CiAgICAgICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgIHRpbWVvdXQ6IDUwMDAsCiAgICAgICAgY2xvc2VPbkNsaWNrOiB0cnVlLAogICAgICAgIHBhdXNlT25Gb2N1c0xvc3M6IHRydWUsCiAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgIGRyYWdnYWJsZTogdHJ1ZSwKICAgICAgICBkcmFnZ2FibGVQZXJjZW50OiAwLjYsCiAgICAgICAgc2hvd0Nsb3NlQnV0dG9uT25Ib3ZlcjogdHJ1ZSwKICAgICAgICBoaWRlUHJvZ3Jlc3NCYXI6IGZhbHNlLAogICAgICAgIGNsb3NlQnV0dG9uOiAiYnV0dG9uIiwKICAgICAgICBpY29uOiB0cnVlLAogICAgICAgIHJ0bDogZmFsc2UsCiAgICAgIH0pOwogICAgfQogICAgdGhpcy5jaGVja2luZyA9IGZhbHNlOwogIH0sCn07Cg=="},{"version":3,"sources":["Schemes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Schemes.vue","sourceRoot":"src/views/Sites/Servicing/Schemes","sourcesContent":["<template>\n  <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\n    <card>\n      <b-row>\n        <b-col lg=\"12\">\n          <div v-loading=\"true\" id=\"loading\" v-if=\"checking\">\n            <p>Checking Schemes data</p>\n          </div>\n        </b-col>\n      </b-row>\n      <br />\n      <div>\n        <b-row class=\"float-right pb-4\"> </b-row>\n        <b-row>\n          <b-col lg=\"6\">\n            <b-form-input\n              type=\"search\"\n              label=\"\"\n              placeholder=\"Search here...\"\n              class=\"text-left\"\n              v-model=\"searchTitle\"\n            ></b-form-input>\n            <br />\n            <b-button\n              pill\n              variant=\"outline-secondary\"\n              v-on:click=\"\n                page = 1;\n                retrieveTutorials();\n              \"\n              >Search</b-button\n            >\n          </b-col>\n          <b-col lg=\"4\">\n            Items per Page:\n            <select v-model=\"pageSize\">\n              <option v-for=\"size in pageSizes\" :key=\"size\" :value=\"size\">\n                {{ size }}\n              </option>\n            </select>\n          </b-col>\n        </b-row>\n        <br />\n        <b-row>\n          <b-col lg=\"6\">\n            <pagination\n              v-bind:todos=\"todos\"\n              v-on:page:update=\"updatePage\"\n              v-bind:currentPage=\"currentPage\"\n              v-bind:pageSize=\"pageSize\"\n            >\n            </pagination>\n          </b-col>\n\n          <!--<b-col lg=\"4\" class=\"my-1\">\n            <b-form-group\n              label=\"Filter by\"\n              label-for=\"sort-by-select\"\n              label-cols-sm=\"3\"\n              label-align-sm=\"right\"\n              label-size=\"sm\"\n              class=\"mb-0\"\n            >\n              <b-input-group size=\"sm\">\n                <b-form-select id=\"sort-by-select\" class=\"w-75\">\n                  <template #first>\n                    <option value=\"\">Insurance</option>\n                    <option value=\"\">Pension</option>\n                    <option value=\"\">Trust</option>\n                  </template>\n                </b-form-select>\n                <b-input-group-append>\n                  <b-button @click=\"filter = ''\">Clear</b-button>\n                </b-input-group-append>\n              </b-input-group>\n            </b-form-group>\n          </b-col>-->\n          <b-col lg=\"4\">\n            Select Number of rows:\n            <select v-model=\"selectedLimit\" v-on:click=\"choosenRows()\">\n              <option v-for=\"size in limit\" :key=\"size\" :value=\"size\">\n                {{ size }}\n              </option>\n            </select>\n          </b-col>\n        </b-row>\n        <br />\n        <b-col xl=\"12\">\n          <div style=\"overflow: scroll\">\n            <b-row>\n              <b-col xl=\"6\">\n                <table class=\"table table-stripped\">\n                  <thead class=\"thead-light\">\n                    <tr>\n                      <th scope=\"col\">Check Box</th>\n                      <th scope=\"col\">Scheme Code</th>\n                      <th scope=\"col\">Scheme Name</th>\n                      <th scope=\"col\">Policy Name</th>\n                      <th scope=\"col\">Policy NUmber</th>\n                      <th scope=\"col\">Propasal Number</th>\n                      <th scope=\"col\">Status</th>\n                      <th scope=\"col\">Action</th>\n                    </tr>\n                  </thead>\n                  <tbody id=\"myTable\">\n                    <tr\n                      v-for=\"i in selectedMembers\"\n                      :selectedMembers=\"selectedMembers\"\n                      :currentpage=\"currentPage\"\n                      :key=\"i.ProposalNo\"\n                    >\n                      <td>\n                        <label class=\"form-checkbox\">\n                          <input\n                            type=\"checkbox\"\n                            :value=\"i.ProposalNo\"\n                            v-model=\"selected\"\n                          />\n                          <i class=\"form-icon\"></i>\n                        </label>\n                      </td>\n                      <td>{{ i.ClientID }}</td>\n                      <td>{{ i.Name }}</td>\n                      <td>{{ i.Products }}</td>\n                      <td>{{ i.Policyno }}</td>\n                      <td>{{ i.ProposalNo }}</td>\n                      <td>{{ i.Status }}</td>\n\n                      <td>\n                        <b-dropdown\n                          id=\"dropdown-left\"\n                          text=\"Action\"\n                          variant=\"primary\"\n                          class=\"m-2\"\n                        >\n                          <b-dropdown-item\n                            ><router-link\n                              :to=\"{\n                                name: 'Scheme Settings insurance',\n                                params: { code: i.ClientID, s_name: i.Name },\n                              }\"\n                              >Edit</router-link\n                            ></b-dropdown-item\n                          >\n                          <b-dropdown-item>\n                            <router-link\n                              :to=\"{\n                                name: 'Scheme Servicing insurance',\n                                params: {\n                                  code: {\n                                    codes: i.ClientID,\n                                    s_name: i.Name,\n                                    propasal_number: i.ProposalNo,\n                                    policy_number: i.Policyno,\n                                    s_status: i.Status,\n                                    d_from: i.DATE_FROM.date,\n                                    d_to: i.DATE_TO.date,\n                                    insured_name: i.Insured,\n                                    insured_item: i.Items,\n                                    item_no: i.ItemNo,\n                                    product_class: i.Policy_class,\n                                    product_code: i.Product_code,\n                                    i_pin: i.PINNO,\n                                    occupation: i.Occupation,\n                                    insurance_company: i.Insurance_Company,\n                                    company_code: i.company_code,\n                                    suminsured: i.SumInsured,\n                                    basicP: i.BasicPremium,\n                                    duePremium: i.DuePremium,\n                                    commRate: i.Commission_rate,\n                                    wTaxRate: i.WTaxRate,\n                                  },\n                                },\n                              }\"\n                              >Open</router-link\n                            ></b-dropdown-item\n                          >\n                          <b-dropdown-item href=\"#\">Delete</b-dropdown-item>\n                        </b-dropdown>\n                      </td>\n                    </tr>\n                  </tbody>\n\n                  <!-- <tbody id=\"myTable\">\n        <tr>\n\t\t\t\t<td><input type=\"checkbox\"  name=\"scheme_no1\" value=\"323\"></td>\n\t      \t\t<td>1</td>\n\t      \t\t<td>John Snow</td>\n\t      \t\t<td>Johnsnow@gmail.com</td>\n\t      \t\t<td>+254712345678</td>\n\t      \t\t<td>18-05-2020</td>\n\t      \t\t<td>Pension</td>\n\t      \t\t<td>OPPS</td>\n\t      \t\t<td>Note</td>\n\n            <td>\n              <b-dropdown id=\"dropdown-left\" text=\"Action\" variant=\"primary\" class=\"m-2\">\n                <b-dropdown-item href=\"#\">Edit</b-dropdown-item>\n\t\t\t\t<b-dropdown-item href=\"#/add-lead\">Add as a lead</b-dropdown-item>\n                <b-dropdown-item href=\"#\">Delete</b-dropdown-item>\n              </b-dropdown>\n\t\t\t\t\t</td>\n        </tr>\n      </tbody> -->\n                </table>\n                <div></div>\n              </b-col>\n            </b-row>\n          </div>\n        </b-col>\n      </div>\n\n      <br />\n      <!-- \n  <div style=\"overflow: scroll;\"> \n\t  <b-row>\n\t  <b-col xl=\"6\">\n<table class=\"table table-stripped\">\n\t    <thead class=\"thead-light\">\n\t      <tr>\n\t\t<th scope=\"col\">Check Box</th>\n\t      <th scope=\"col\">Index</th>\n\t      <th scope=\"col\">Scheme Code</th >\n\t\t\t <th scope=\"col\">Scheme Name</th>\n\t\t\t <th scope=\"col\">Administration</th>\n\t\t\t <th scope=\"col\">Category</th>\n\t\t\t <th scope=\"col\">Latest Period</th>\n\t\t\t <th scope=\"col\">Status</th>\n\t\t\t <th scope=\"col\">Country</th>\n       <th scope=\"col\">Action</th>\n\n\t      </tr>\n\t    </thead>\n       <tbody id=\"myTable\">\n\t      \t      \t<tr>\n\t\t\t\t<td><input type=\"checkbox\"  name=\"scheme_no1\" value=\"323\"></td>\n\t      \t\t<td>1</td>\n\t      \t\t<td>323</td>\n\t      \t\t<td>MENTOR SACCO STAFF PROVIDENT FUND CLEANUP</td>\n\t      \t\t<td>Occupational</td>\n\t      \t\t<td>Pension</td>\n\t      \t\t<td>DEC 2020</td>\n\t      \t\t<td>Dormant</td>\n\t      \t\t<td>Kenya</td>\n\n  <td>\n\t<b-dropdown id=\"dropdown-left\" text=\"Action\" variant=\"primary\" class=\"m-2\">\n    <b-dropdown-item > <router-link to=\"/scheme_servicing2\">Open </router-link></b-dropdown-item>\n    <b-dropdown-item ><router-link to=\"/Scheme_settings\">Edit </router-link></b-dropdown-item>\n    <b-dropdown-item >Delete</b-dropdown-item>\n\t</b-dropdown>\n\t\t\t\t\t</td> \n\t      \t</tr>\n\t\t\t  <tr>\n\t\t\t\t  <td><input type=\"checkbox\"  name=\"scheme_no2\" value=\"AFRI0037\"></td>\n\t      \t\t<td>2</td>\n\t      \t\t<td>AFRI0037</td>\n\t      \t\t<td>Faqeer Farms Limited</td>\n\t      \t\t<td>Occupational</td>\n\t      \t\t<td>Provident</td>\n\t      \t\t<td>jan2021test</td>\n\t      \t\t<td>Active</td>\n\t      \t\t<td>Kenya</td>\n\t\t\t\t  <td>\n\t<b-dropdown id=\"dropdown-left\" text=\"Action\" variant=\"primary\" class=\"m-2\">\n    <b-dropdown-item > <router-link to=\"/scheme_servicing2\">Open </router-link></b-dropdown-item>\n    <b-dropdown-item ><router-link to=\"/Scheme_settings\">Edit </router-link></b-dropdown-item>\n    <b-dropdown-item >Delete</b-dropdown-item>\n\t</b-dropdown>\n\t\t\t\t\t</td>\n\t\t\t  </tr>\n\t\t\t  <tr>\n\t\t\t\t  <td><input type=\"checkbox\" name=\"scheme_no3\" value=\"AFRI0043\"></td>\n\t      \t\t<td>3</td>\n\t      \t\t<td>AFRI0043</td>\n\t      \t\t<td>The Health Box Limited</td>\n\t      \t\t<td>Occupational</td>\n\t      \t\t<td>Insurance</td>\n\t      \t\t<td>JAN-DEC 2021</td>\n\t      \t\t<td>Active</td>\n\t      \t\t<td>Kenya</td>\n\t\t\t\t   <td>\n\t<b-dropdown id=\"dropdown-left\" text=\"Action\" variant=\"primary\" class=\"m-2\">\n    <b-dropdown-item><router-link to=\"/Ins_settings\">Edit</router-link></b-dropdown-item>\n\t<b-dropdown-item><router-link to=\"/Insurance_Servicing\">Open</router-link></b-dropdown-item>\n    <b-dropdown-item href=\"#\">Delete</b-dropdown-item>\n\t</b-dropdown>\n\t\t\t\t\t</td> \n\t\t\t\t  </tr>\n\t\t\t\t   <tr>\n\t\t\t\t  <td><input type=\"checkbox\"  name=\"scheme_no3\" value=\"K0037\"></td>\n\t      \t\t<td>4</td>\n\t      \t\t<td>K0037</td>\n\t      \t\t<td>MT KENYA UNIVERSITY STAFF PROVIDENT FUND</td>\n\t      \t\t<td>Umbrella</td>\n\t      \t\t<td>Trust</td>\n\t      \t\t<td>Jan-Dec 2021</td>\n\t      \t\t<td>Active</td>\n\t      \t\t<td>Kenya</td>\n\t\t\t\t   <td>\n\t<b-dropdown id=\"dropdown-left\" text=\"Action\" variant=\"primary\" class=\"m-2\">\n    <b-dropdown-item><router-link to=\"/Trusts\">Open</router-link></b-dropdown-item>\n    <b-dropdown-item ><router-link to=\"/Trust_Setup\">Edit</router-link></b-dropdown-item>\n    <b-dropdown-item>Delete</b-dropdown-item>\n\t</b-dropdown>\n\t\t\t\t\t</td> \n\t\t\t  </tr>\n      </tbody>\n\t  </table>\n\t  </b-col>\n\t  </b-row>\n  </div> -->\n    </card>\n  </base-header>\n</template>\n\n<script>\nimport { getAllInsurancePolicies } from \"../../../../api/users.api\";\nimport Pagination from \"../../../../components/Pagination.vue\";\nimport insuranceErrors from \"../../../../service/insuranceErrors\";\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      todos: [],\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\",\n      page: 1,\n      currentPage: 0,\n      pageSize: 5,\n      selectedMembers: [],\n      limit: [50, 100, 200],\n      selectedLimit: \"\",\n      checking: false,\n\n      pageSizes: [5, 10, 25],\n\n      //other data types\n      selectAll: [],\n      selected: [],\n      selectedData: [],\n    };\n  },\n  methods: {\n    retrieveTutorials() {\n      this.checking = true;\n      let params = insuranceErrors.getRequestParams(this.searchTitle, this.selectedLimit);\n\n      getAllInsurancePolicies(params)\n        .then((response) => {\n          //const { tutorials, totalItems } = response.data.data;\n          this.todos = response.data.data;\n          //this.count = response.data.total;\n          //this.count = 7;\n          this.updatevisibleMembers();\n          console.log(response.data);\n          this.checking = false;\n        })\n        .catch((e) => {\n          this.checking = false;\n          console.log(e);\n        });\n    },\n\n    updatePage(pageNumber) {\n      this.currentPage = pageNumber;\n      this.updatevisibleMembers();\n    },\n    totalPages() {\n      return Math.ceil(this.todos.length / this.pageSize);\n    },\n    updatevisibleMembers() {\n      this.selectedMembers = this.todos.slice(\n        this.currentPage * this.pageSize,\n        this.currentPage * this.pageSize + this.pageSize\n      );\n\n      if (this.selectedMembers.length == 0 && this.currentPage > 0) {\n        this.updatePage(currentPage - 1);\n      }\n    },\n    choosenRows() {\n      this.checking = true;\n      let params = insuranceErrors.getRequestParams(this.searchTitle, this.selectedLimit);\n\n      getAllInsurancePolicies(params)\n        .then((response) => {\n          //const { tutorials, totalItems } = response.data.data;\n          this.todos = response.data.data;\n          //this.count = response.data.total;\n          //this.count = 7;\n          this.updatevisibleMembers();\n          console.log(response.data);\n          this.checking = false;\n        })\n        .catch((e) => {\n          this.checking = false;\n          console.log(e);\n        });\n    },\n\n    select() {\n      for (let i in this.todos) {\n        this.selected.push(this.todos[i].ProposalNo);\n      }\n    },\n  },\n  async mounted() {\n    if (localStorage.getItem(\"insuranceItems\") !== null) {\n      this.todos = JSON.parse(localStorage.getItem(\"insuranceItems\"));\n      this.updatevisibleMembers();\n    }\n    try {\n      this.checking = true;\n      let response = await getAllInsurancePolicies();\n      console.info(\"ins schemes\", response.data);\n      localStorage.setItem(\"insuranceItems\", JSON.stringify(response.data.data));\n      this.todos = response.data.data;\n      //this.count = response.data.total;\n      //this.count = 7;\n      this.updatevisibleMembers();\n    } catch (e) {\n      this.checking = false;\n      console.error(\"ins error\", e);\n      this.$toast.error(\"Failed! Refresh the page\", {\n        position: \"top-right\",\n        timeout: 5000,\n        closeOnClick: true,\n        pauseOnFocusLoss: true,\n        pauseOnHover: true,\n        draggable: true,\n        draggablePercent: 0.6,\n        showCloseButtonOnHover: true,\n        hideProgressBar: false,\n        closeButton: \"button\",\n        icon: true,\n        rtl: false,\n      });\n    }\n    this.checking = false;\n  },\n};\n</script>\n"]}]}