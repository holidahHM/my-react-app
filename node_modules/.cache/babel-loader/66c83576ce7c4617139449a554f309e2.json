{"remainingRequest":"/home/mulama/Desktop/NewFolder/osl/node_modules/babel-loader/lib/index.js!/home/mulama/Desktop/NewFolder/osl/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mulama/Desktop/NewFolder/osl/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mulama/Desktop/NewFolder/osl/src/views/Pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mulama/Desktop/NewFolder/osl/src/views/Pages/Login.vue","mtime":1628066451461},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/NewFolder/osl/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbXVsYW1hL0Rlc2t0b3AvTmV3Rm9sZGVyL29zbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGVycm9yQ29kZXMgZnJvbSAiLi4vLi4vc2VydmljZS9lcnJvckNvZGVzIjsKaW1wb3J0IHsgbG9naW5Vc2VyIH0gZnJvbSAiLi4vLi4vYXBpL3VzZXJzLmFwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJlbWVtYmVyTWU6IGZhbHNlLAogICAgICAgIGVycm9yOiAnJywKICAgICAgICBzdWNjZXNzOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5Mb2dpYzogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ2luTG9naWMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCByZXNwbWVzcywgdG9rZW5EYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZXJyb3IgPSAnJzsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc3VjY2VzcyA9ICcnOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSAnJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgdGhpcy4kbG9hZGluZy5zaG93KHsKICAgICAgICAgICAgICAgICAgZGVsYXk6IDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9naW5Vc2VyKHRoaXMubW9kZWwudXNlcm5hbWUsIHRoaXMubW9kZWwucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICB0aGlzLiRsb2FkaW5nLmhpZGUoKTsKICAgICAgICAgICAgICAgIHJlc3BtZXNzID0gZXJyb3JDb2Rlcy5nZXRFcnJvck1lc3NhZ2VGcm9tQ29kZShfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMpOwogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5lcnJvciA9IHJlc3BtZXNzOwogICAgICAgICAgICAgICAgdGhyb3cgcmVzcG1lc3M7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICB0aGlzLiRsb2FkaW5nLmhpZGUoKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdG9rZW5EYXRhID0gewogICAgICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJfaWQsCiAgICAgICAgICAgICAgICAgICAgZnVsbG5hbWU6IHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2Z1bGxfbmFtZXMsCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuZGF0YS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICBvYWZzbG1vZHVsZXM6IHJlc3BvbnNlLmRhdGEuZGF0YS5vYWZzbF9tb2R1bGVzCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsIEpTT04uc3RyaW5naWZ5KHRva2VuRGF0YSkpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWVwYWdlJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzMsIDEyXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbkxvZ2ljKCkgewogICAgICAgIHJldHVybiBfbG9naW5Mb2dpYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9naW5Mb2dpYzsKICAgIH0oKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckRhdGEnKSAhPT0gbnVsbCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWVwYWdlJyk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA,OAAA,UAAA;AACA,SAAA,SAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA,KAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,OAAA,EAAA;AALA;AADA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,qBAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,gBAAA,QAJA,GAIA,EAJA;AAAA;AAMA,qBAAA,QAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,KAAA,EAAA;AAAA,iBAAA;AANA;AAAA,uBAOA,SAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA,KAAA,KAAA,CAAA,QAAA,CAPA;;AAAA;AAOA,gBAAA,QAPA;AAQA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,qBAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AATA;AAAA;;AAAA;AAAA;AAAA;AAWA,qBAAA,QAAA,CAAA,IAAA;AACA,gBAAA,QAZA,GAYA,UAAA,CAAA,uBAAA,CAAA,YAAA,QAAA,CAAA,MAAA,CAZA;AAaA,qBAAA,KAAA,CAAA,KAAA,GAAA,QAAA;AAbA,sBAcA,QAdA;;AAAA;AAgBA,qBAAA,QAAA,CAAA,IAAA;;AACA,oBAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,SADA,GACA;AACA,oBAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OADA;AAEA,oBAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,eAFA;AAGA,oBAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAHA;AAIA,oBAAA,YAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAJA,mBADA;AAOA,kBAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,SAAA,CAAA,SAAA,CAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAZA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,MAAA,IAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,KAFA,MAGA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA;AAhDA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- Header -->\n    <div class=\"header bg-gradient-success py-7 py-lg-8 pt-lg-9\">\n      <b-container>\n        <div class=\"header-body text-center mb-7\">\n          <b-row class=\"justify-content-center\">\n            <b-col xl=\"5\" lg=\"6\" md=\"8\" class=\"px-5\">\n              <h1 class=\"text-white\">Welcome!</h1>\n              <p class=\"text-lead text-white\">Welcome at Octagon Africa</p>\n            </b-col>\n          </b-row>\n        </div>\n      </b-container>\n      <div class=\"separator separator-bottom separator-skew zindex-100\">\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\"\n             xmlns=\"http://www.w3.org/2000/svg\">\n          <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\n        </svg>\n      </div>\n    </div>\n    <!-- Page content -->\n    <b-container class=\"mt--8 pb-5\">\n      <b-row class=\"justify-content-center\">\n        <b-col lg=\"5\" md=\"7\">\n          <b-card no-body class=\"bg-secondary border-0 mb-0\">\n             <b-card-header class=\"bg-transparent pb-5\">\n            \n              <div class=\"text-center\">\n                <a href=\"#\" class=\"btn btn-neutral btn-icon mr-4\">\n                  <img src=\"img/brand/Octagon_logo.png\">\n                  \n                </a>\n                \n              </div>\n            </b-card-header>\n            <b-card-body class=\"px-lg-5 py-lg-5\">\n             <div class=\"alert alert-danger\" v-if=\"model.error\">\n                {{ model.error }}\n              </div>\n              <div class=\"alert alert-success\" v-if=\"model.success\">\n                {{ model.success }}\n              </div>\n              <validation-observer v-slot=\"{handleSubmit}\" ref=\"formValidator\">\n                <b-form role=\"form\" action=\"\"  method = \"get\" @submit.prevent=\"handleSubmit(onSubmit)\" >\n                  <base-input alternative\n                              class=\"mb-3\"\n                              name=\"Username\"\n                              :rules=\"{required: true, }\"\n                              prepend-icon=\"ni ni-circle-08\"\n                              placeholder=\"Username\"\n                              v-model=\"model.username\">\n                  </base-input>\n\n                  <base-input alternative\n                              class=\"mb-3\"\n                              name=\"Password\"\n                              :rules=\"{required: true, min: 6}\"\n                              prepend-icon=\"ni ni-lock-circle-open\"\n                              type=\"password\"\n                              placeholder=\"Password\"\n                              v-model=\"model.password\">\n                  </base-input>\n\n                  <b-form-checkbox v-model=\"model.rememberMe\">Remember me</b-form-checkbox>\n                  <div class=\"text-center\">\n                    <base-button type=\"submit\" @click=\"loginLogic\" class=\"btn btn-primary\">Sign in</base-button>\n                    <router-link to=\"/otp\" class=\"text-light\"><small>OTP</small></router-link>\n                  </div>\n                </b-form>\n              </validation-observer>\n            </b-card-body>\n          </b-card>\n          <b-row class=\"mt-3\">\n            <b-col cols=\"6\">\n              <router-link to=\"/dashboard\" class=\"text-light\"><small>Forgot password?</small></router-link>\n            </b-col>\n            <b-col cols=\"6\" class=\"text-right\">\n              <router-link to=\"/register\" class=\"text-light\"><small>Create new account</small></router-link>\n            </b-col>\n          </b-row>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport errorCodes from '../../service/errorCodes'\nimport { loginUser } from '../../api/users.api'\nexport default {\n    data() {\n        return {\n            model: {\n              username: '',\n              password: '',\n              rememberMe: false,\n              error: '',\n              success: '',\n            },\n        };\n    },\n    methods: {\n        async loginLogic() {\n          this.model.error = '';\n          this.model.success = '';\n          let response = '';\n           try{\n             this.$loading.show({delay:0});\n            response = await loginUser(this.model.username, this.model.password);\n            console.log(response);\n            this.model.success = response.data.message;\n           }catch(e){\n             this.$loading.hide();\n             let respmess = errorCodes.getErrorMessageFromCode(e.response.status);\n             this.model.error = respmess;\n             throw respmess;\n           }\n            this.$loading.hide();\n           if (response.status === 200){\n             let tokenData = {\n                userid: response.data.data.user_id,\n                fullname: response.data.data.user_full_names,\n                username: response.data.data.username,\n                oafslmodules:response.data.data.oafsl_modules,\n            };\n            localStorage.setItem('userData', JSON.stringify(tokenData));\n            this.$router.push('/homepage');\n           }   \n        },\n    },\n    mounted() {\n      if (localStorage.getItem('userData') !== null) {\n        this.$router.push('/homepage');\n      }\n      else{\n        this.$router.push('/login');\n      }\n    },\n\n};\n</script>\n\n"],"sourceRoot":"src/views/Pages"}]}