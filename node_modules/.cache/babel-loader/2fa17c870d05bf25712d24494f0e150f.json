{"remainingRequest":"/home/mulama/Desktop/Management/mgt2/node_modules/babel-loader/lib/index.js!/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mulama/Desktop/Management/mgt2/src/views/Pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mulama/Desktop/Management/mgt2/src/views/Pages/Login.vue","mtime":1628066451461},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mulama/Desktop/Management/mgt2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbXVsYW1hL0Rlc2t0b3AvTWFuYWdlbWVudC9tZ3QyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZXJyb3JDb2RlcyBmcm9tICIuLi8uLi9zZXJ2aWNlL2Vycm9yQ29kZXMiOwppbXBvcnQgeyBsb2dpblVzZXIgfSBmcm9tICIuLi8uLi9hcGkvdXNlcnMuYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbDogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgcmVtZW1iZXJNZTogZmFsc2UsCiAgICAgICAgZXJyb3I6ICcnLAogICAgICAgIHN1Y2Nlc3M6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbkxvZ2ljOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW5Mb2dpYyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHJlc3BtZXNzLCB0b2tlbkRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5lcnJvciA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zdWNjZXNzID0gJyc7CiAgICAgICAgICAgICAgICByZXNwb25zZSA9ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgICB0aGlzLiRsb2FkaW5nLnNob3coewogICAgICAgICAgICAgICAgICBkZWxheTogMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblVzZXIodGhpcy5tb2RlbC51c2VybmFtZSwgdGhpcy5tb2RlbC5wYXNzd29yZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc3VjY2VzcyA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIHRoaXMuJGxvYWRpbmcuaGlkZSgpOwogICAgICAgICAgICAgICAgcmVzcG1lc3MgPSBlcnJvckNvZGVzLmdldEVycm9yTWVzc2FnZUZyb21Db2RlKF9jb250ZXh0LnQwLnJlc3BvbnNlLnN0YXR1cyk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmVycm9yID0gcmVzcG1lc3M7CiAgICAgICAgICAgICAgICB0aHJvdyByZXNwbWVzczsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIHRoaXMuJGxvYWRpbmcuaGlkZSgpOwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICB0b2tlbkRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgdXNlcmlkOiByZXNwb25zZS5kYXRhLmRhdGEudXNlcl9pZCwKICAgICAgICAgICAgICAgICAgICBmdWxsbmFtZTogcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJfZnVsbF9uYW1lcywKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIG9hZnNsbW9kdWxlczogcmVzcG9uc2UuZGF0YS5kYXRhLm9hZnNsX21vZHVsZXMKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodG9rZW5EYXRhKSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZXBhZ2UnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMywgMTJdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxvZ2luTG9naWMoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpbkxvZ2ljLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dpbkxvZ2ljOwogICAgfSgpCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpICE9PSBudWxsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZXBhZ2UnKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA,OAAA,UAAA;AACA,SAAA,SAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA,KAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,OAAA,EAAA;AALA;AADA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,qBAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,gBAAA,QAJA,GAIA,EAJA;AAAA;AAMA,qBAAA,QAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,KAAA,EAAA;AAAA,iBAAA;AANA;AAAA,uBAOA,SAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA,KAAA,KAAA,CAAA,QAAA,CAPA;;AAAA;AAOA,gBAAA,QAPA;AAQA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,qBAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AATA;AAAA;;AAAA;AAAA;AAAA;AAWA,qBAAA,QAAA,CAAA,IAAA;AACA,gBAAA,QAZA,GAYA,UAAA,CAAA,uBAAA,CAAA,YAAA,QAAA,CAAA,MAAA,CAZA;AAaA,qBAAA,KAAA,CAAA,KAAA,GAAA,QAAA;AAbA,sBAcA,QAdA;;AAAA;AAgBA,qBAAA,QAAA,CAAA,IAAA;;AACA,oBAAA,QAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,SADA,GACA;AACA,oBAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OADA;AAEA,oBAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,eAFA;AAGA,oBAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAHA;AAIA,oBAAA,YAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAJA,mBADA;AAOA,kBAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,SAAA,CAAA,SAAA,CAAA;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAZA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,MAAA,IAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,KAFA,MAGA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA;AAhDA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- Header -->\n    <div class=\"header bg-gradient-success py-7 py-lg-8 pt-lg-9\">\n      <b-container>\n        <div class=\"header-body text-center mb-7\">\n          <b-row class=\"justify-content-center\">\n            <b-col xl=\"5\" lg=\"6\" md=\"8\" class=\"px-5\">\n              <h1 class=\"text-white\">Welcome!</h1>\n              <p class=\"text-lead text-white\">Welcome at Octagon Africa</p>\n            </b-col>\n          </b-row>\n        </div>\n      </b-container>\n      <div class=\"separator separator-bottom separator-skew zindex-100\">\n        <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\"\n             xmlns=\"http://www.w3.org/2000/svg\">\n          <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\n        </svg>\n      </div>\n    </div>\n    <!-- Page content -->\n    <b-container class=\"mt--8 pb-5\">\n      <b-row class=\"justify-content-center\">\n        <b-col lg=\"5\" md=\"7\">\n          <b-card no-body class=\"bg-secondary border-0 mb-0\">\n             <b-card-header class=\"bg-transparent pb-5\">\n            \n              <div class=\"text-center\">\n                <a href=\"#\" class=\"btn btn-neutral btn-icon mr-4\">\n                  <img src=\"img/brand/Octagon_logo.png\">\n                  \n                </a>\n                \n              </div>\n            </b-card-header>\n            <b-card-body class=\"px-lg-5 py-lg-5\">\n             <div class=\"alert alert-danger\" v-if=\"model.error\">\n                {{ model.error }}\n              </div>\n              <div class=\"alert alert-success\" v-if=\"model.success\">\n                {{ model.success }}\n              </div>\n              <validation-observer v-slot=\"{handleSubmit}\" ref=\"formValidator\">\n                <b-form role=\"form\" action=\"\"  method = \"get\" @submit.prevent=\"handleSubmit(onSubmit)\" >\n                  <base-input alternative\n                              class=\"mb-3\"\n                              name=\"Username\"\n                              :rules=\"{required: true, }\"\n                              prepend-icon=\"ni ni-circle-08\"\n                              placeholder=\"Username\"\n                              v-model=\"model.username\">\n                  </base-input>\n\n                  <base-input alternative\n                              class=\"mb-3\"\n                              name=\"Password\"\n                              :rules=\"{required: true, min: 6}\"\n                              prepend-icon=\"ni ni-lock-circle-open\"\n                              type=\"password\"\n                              placeholder=\"Password\"\n                              v-model=\"model.password\">\n                  </base-input>\n\n                  <b-form-checkbox v-model=\"model.rememberMe\">Remember me</b-form-checkbox>\n                  <div class=\"text-center\">\n                    <base-button type=\"submit\" @click=\"loginLogic\" class=\"btn btn-primary\">Sign in</base-button>\n                    <router-link to=\"/otp\" class=\"text-light\"><small>OTP</small></router-link>\n                  </div>\n                </b-form>\n              </validation-observer>\n            </b-card-body>\n          </b-card>\n          <b-row class=\"mt-3\">\n            <b-col cols=\"6\">\n              <router-link to=\"/dashboard\" class=\"text-light\"><small>Forgot password?</small></router-link>\n            </b-col>\n            <b-col cols=\"6\" class=\"text-right\">\n              <router-link to=\"/register\" class=\"text-light\"><small>Create new account</small></router-link>\n            </b-col>\n          </b-row>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport errorCodes from '../../service/errorCodes'\nimport { loginUser } from '../../api/users.api'\nexport default {\n    data() {\n        return {\n            model: {\n              username: '',\n              password: '',\n              rememberMe: false,\n              error: '',\n              success: '',\n            },\n        };\n    },\n    methods: {\n        async loginLogic() {\n          this.model.error = '';\n          this.model.success = '';\n          let response = '';\n           try{\n             this.$loading.show({delay:0});\n            response = await loginUser(this.model.username, this.model.password);\n            console.log(response);\n            this.model.success = response.data.message;\n           }catch(e){\n             this.$loading.hide();\n             let respmess = errorCodes.getErrorMessageFromCode(e.response.status);\n             this.model.error = respmess;\n             throw respmess;\n           }\n            this.$loading.hide();\n           if (response.status === 200){\n             let tokenData = {\n                userid: response.data.data.user_id,\n                fullname: response.data.data.user_full_names,\n                username: response.data.data.username,\n                oafslmodules:response.data.data.oafsl_modules,\n            };\n            localStorage.setItem('userData', JSON.stringify(tokenData));\n            this.$router.push('/homepage');\n           }   \n        },\n    },\n    mounted() {\n      if (localStorage.getItem('userData') !== null) {\n        this.$router.push('/homepage');\n      }\n      else{\n        this.$router.push('/login');\n      }\n    },\n\n};\n</script>\n\n"],"sourceRoot":"src/views/Pages"}]}